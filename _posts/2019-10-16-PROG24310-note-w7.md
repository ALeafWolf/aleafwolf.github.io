---
title: PROG24310 Week 6 Note
category: Self-review
tag: PROG24310
---
# Pointer to a Pointer
* a variable have the memory address to the pointer it points
- int** var;
* exercise 7.1: *pptr = &x
```
*pptr
*(&ptr)
ptr
&x
```
- ***pptr = *x is non-sense, cannot use a pointer to a int variable

# Input Output in C
* stream: the data flow transfer from a program to a device, or the other way around
- a stream is **device independent**
## Text stream
* consists of chars
* organised into lines (up to 255 characters, terminated by the **EOL** special character)
- EOF = end of file
* have special function char
## Binary stream
* can handle any data
* data bytes are not interpreted in any way, but transferred as they are
## Predefined/standard streams in C
* these are opened automatically, other streams (ex. manipulating data in a file) must be open explicitly
![Example](/assets/images/post_images/prog24310-w7-1.png)

# File I/O in C
![Memory, buffer, disk](/assets/images/post_images/prog24310-w7-2.png)
* FILE* fp;
- a file pointer
- FILE is a special type (structure)
## Open/close the file
* fopen(const char *filename, const char *mode), fclose(File *file)


# AS2 hit
* sorting: swap pointers

# Multidimensional Arrays pointer
* B[3][4] = *(*(B+3)+4)

# Garbage collection in C
* in C we don't have **automatic garbage collection**
## Garbage
* a block of heap emory that cannot be accessed by the program
## Garbage Collection
* automatic management of dynamically allocated storage
- reclaim unused heap blocks for later use by program

# Potential problems with Stack and Heap
## Problems with stack
* run out of stack space
* unintentionally change values on the stack
- in som eother function's frame
- even return address from function
* access memory even after frame is deallocated
![example](/assets/images/post_images/prog24310-w7-3.png)
- **Memory for local variable is deallocated when function returns**
## Problems with heap
* run out of heap space: malloc returns 0
* Unintentionally change other heap data
* access memory after free it
* free memory twice
# Exercise 7.5
* **heavily on midterm**